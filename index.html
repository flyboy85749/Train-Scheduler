<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Train Tracker</title>
  <link rel="stylesheet" type="text/css" href="assets/css/reset.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
  <link rel="stylesheet" type="text/css" href="assets/css/styles.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript"></script> 
  <!-- <script type="text/javascript" src="node_modules/moment/moment.js"> -->
    <!-- moment();
  </script> -->
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-12 header">

        <img src="assets/images/header.jpg" />


        <h1 class="heading">The Great Train <span class="replace">Robbery</span> Tracker!</h1>
      </div>
    </div>


    <div class="row">
      <div class="col-5">
        <h1>Train Schedule Finder</h1>
      </div>
      <div class="col-3">
        <h5>Current Time:</h5>
        <p class="current-time"></p>
      </div>
      <!-- add train modal -->
      <div class="col-2">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"
          data-whatever="@mdo">Add a Train</button>
      </div>
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">New Train</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="train-name" class="col-form-label">Name:</label>
                  <input type="text" class="form-control" id="train-name">
                </div>
                <div class="form-group">
                  <label for="train-destination" class="col-form-label">Destination:</label>
                  <input type="text" class="form-control" id="train-destination">
                </div>
                <div class="form-group">
                  <label for="train-frequency" class="col-form-label">Frequency:</label>
                  <input type="text" class="form-control" id="train-frequency">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" id="add" class="btn btn-primary">Add Train</button>
            </div>
          </div>
        </div>
      </div>
      <!-- update modal here -->
      <div class="col-2">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateModal"
          data-whatever="@mdo">Update Train</button>
      </div>
      <div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="updateModalLabel">Update Existing Train</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                  <div class="form-group">
                      <label for="train-name" class="col-form-label">Name:</label>
                      <input type="text" class="form-control" id="update-name">
                    </div>
                
                <div class="form-group">
                  <label for="train-destination" class="col-form-label">Destination:</label>
                  <input type="text" class="form-control" id="update-destination">
                </div>
                <div class="form-group">
                  <label for="train-frequency" class="col-form-label">Frequency:</label>
                  <input type="text" class="form-control" id="update-frequency">
                </div>
                <div class="form-group">
                  <label for="train-name" class="col-form-label">On Time:</label>
                  <input type="text" class="form-control" id="update-time">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" id="update" class="btn btn-primary">Update Train Info</button>
            </div>
          </div>
        </div>
      </div>

      <!-- <form>
          <p>Train Name</p>
          <input type="text" id="name" name="train-name" value=""/>
          <p>Destination</p>
          <input type="text" id="destination" name="train-destination" value=""/>
          <p>Frequency</p>
          <input type="text" id="frequency" name="train-frequency" value=""/>

        </form>
      </div> -->
    </div>

    <div class="row">
      <div class="col-5">
        <h4 class="added-name"></h4>
        <h4 class="ct">Crazy Train</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="added-destination"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="added-arrival"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="added-ontime"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>Midnight Train to Georgia</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-2a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-2d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-2ot"></p>
      </div>
    </div>
    <div class="row">

    </div>
    <div class="row">
      <div class="col-5">
        <h4>Long Black Train</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-3a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-3d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-3ot"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>Train in Vain</h4>

      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-4a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-4d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-4ot"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>Runaway Train</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-5a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-5d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-5ot"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>Train Kept a Rollin'</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-6a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-5d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-6ot"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>Train Ride Home</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-7a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-7d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-7ot"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>TrainWreck</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-8a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-8d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-8ot"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>Night Train</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-9a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-9d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-9ot"></p>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <h4>Love Train</h4>
      </div>
      <div class="col-3">
        <p>Destination</p>
        <p class="t-10a"></p>
      </div>
      <div class="col-3">
        <p>Arrival Time</p>
        <p class="t-10d"></p>
      </div>
      <div class="col-1">
        <p>On Time</p>
        <p class="t-10ot"></p>
      </div>
    </div>
    <div class="footer">
      <p><i class="fa fa-copyright" aria-hidden="true">Copyright &copy; William H. Hall III</i></p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"></script>
    
    <script type="text/javascript">
    $(document).ready(function() {
  // document is loaded and DOM is ready
  // alert('document is ready')

  setInterval(function() {
    $('.current-time').html(moment().format('hh:mm:ss A'))
  }, 1000)
  ;(function() {
    // instantiate a moment object
    var NowMoment = moment()

    // instantiate a JavaScript Date object
    var NowDate = new Date()

    // display value of moment object in #displayMoment div
    // var DisplayMoment = document.getElementById('#displayMoment')
    // DisplayMoment.innerHTML = NowMoment
    // $("#displayMoment").text(nowMoment);

    //display value of Date object in #displayJsDate div
    // var DisplayDate = document.getElementById('#displayJsDate')
    // DisplayDate.innerHTML = NowDate
    // $("#displayJsDate").text(NowDate);

    $('.current').text(moment())
    let now = moment()
    $('.current').text(`The time is ${now}`)
  })()

  function addTrain() {
    $('#add').on('click', function() {
      var returnName = $('#exampleModal #train-name')
        .val()
        .trim()
      var returnDest = $('#exampleModal #train-destination')
        .val()
        .trim()
      var returnFreq = $('#exampleModal #train-frequency')
        .val()
        .trim()

      $(".added-name").text(returnName)
      $(".added-destination").text(returnDest)
      $(".added-frequency").text(returnFreq)
    })
  }
  addTrain()

  function updateTrain() {
    $('#update').on('click', function() {
      
      var updateDest = $('#updateModal #update-destination')
        .val()
        .trim()
      var updateFreq = $('#updateModal #update-frequency')
        .val()
        .trim()
      var updateOnTime = $('#updateModal #update-time')
        .val()
        .trim()

      
      $(".crazy").text(updateDest)
      console.log(updateFreq)
      console.log(updateOnTime)
    })
  }
  updateTrain()

  // display information on page
  // pull from modal train-name div
})

/* In this assignment, you'll create a train schedule application that incorporates Local Storage to host arrival and departure data. Your app will retrieve and manipulate this information with Moment.js. This website will provide up-to-date information about various trains, namely their arrival times and how many minutes remain until they arrive at their station.

 Setup
We'll leave that up to you -- however you like. Just make sure you're using Local Storage to store data, GitHub to backup your project, and GitHub Pages to host your finished site.

### Instructions

* Make sure that your app suits this basic spec:
  
  * When adding trains, administrators should be able to submit the following:
    
    * Train Name
   

    * Destination 
    // from modal
    * First Train Time -- in military time
    // ?
    * Frequency -- in minutes
  // from modal
  * Code this app to calculate when the next train will arrive; this should be relative to the current time.
  
  * Users from many different machines must be able to view same train times.
  
  * Styling and theme are completely up to you. Get Creative! 
  
  ### Bonus (Extra Challenges)

* Consider updating your "minutes to arrival" and "next train time" text once every minute. This is significantly more challenging; only attempt this if you've completed the actual activity and committed it somewhere on GitHub for safekeeping (and maybe create a second GitHub repo).

* Try adding `update` and `remove` buttons for each train. Let the user edit the row's elements-- allow them to change a train's Name, Destination and Arrival Time (and then, by relation, minutes to arrival).
*/

// if (Modernizr.localstorage) {

//   var txtname = document.getElementById('username'); // Get form elements
//   var txtAnswer = document.getElementById('answer');

//   txtUsername.value = localStorage.getItem('username');  // Elements populated
//   txtAnswer.value = localStorage.getItem('answer');      // by localStorage data

//   txtUsername.addEventListener('input', function () {    // Data saved on keyup
//     localStorage.setItem('username', txtUsername.value);
//   }, false);

//   txtAnswer.addEventListener('input', function () {      // Data saved on keyup
//     localStorage.setItem('answer', txtAnswer.value);
//   }, false);
// }
</script>
</body>

</html>